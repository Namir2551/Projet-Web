{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/14386/Documents/H2023/Web et base de donn\\xE9es/Projet-Web/FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/14386/Documents/H2023/Web et base de donn\\xE9es/Projet-Web/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/14386/Documents/H2023/Web et base de donn\\xE9es/Projet-Web/FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useRef,useEffect}from'react';export var useHttpClient=function useHttpClient(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var method,body,headers,response,responseData,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'GET';body=_args.length>2&&_args[2]!==undefined?_args[2]:null;headers=_args.length>3&&_args[3]!==undefined?_args[3]:{};_context.prev=3;_context.next=6;return fetch(url,{method:method,body:body,headers:headers});case 6:response=_context.sent;_context.next=9;return response.json();case 9:responseData=_context.sent;console.log(responseData);if(response.ok){_context.next=13;break;}throw new Error(responseData.message);case 13:return _context.abrupt(\"return\",responseData);case 16:_context.prev=16;_context.t0=_context[\"catch\"](3);setError(_context.t0.message);throw _context.t0;case 20:case\"end\":return _context.stop();}},_callee,null,[[3,16]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var clearError=function clearError(){setError(null);};return{error:error,sendRequest:sendRequest,clearError:clearError};};","map":{"version":3,"names":["useState","useCallback","useRef","useEffect","useHttpClient","_useState","_useState2","_slicedToArray","error","setError","sendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","response","responseData","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","fetch","sent","json","console","log","ok","Error","message","abrupt","t0","stop","_x","apply","clearError"],"sources":["C:/Users/14386/Documents/H2023/Web et base de donnÃ©es/Projet-Web/FrontEnd/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n  const [error, setError] = useState();\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', body = null, headers = {}) => {\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n        });\r\n        const responseData = await response.json();\r\n        console.log(responseData)\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n\r\n  return {error, sendRequest, clearError};\r\n};\r\n"],"mappings":"sfAAA,OAASA,QAAQ,CAAEC,WAAW,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAEhE,MAAO,IAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACjC,IAAAC,SAAA,CAA0BL,QAAQ,CAAC,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,WAAW,CAAGT,WAAW,6BAAAU,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAC7B,SAAAC,QAAOC,GAAG,MAAAC,MAAA,CAAAC,IAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAC,SAAA,QAAAV,mBAAA,GAAAW,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAEX,MAAM,CAAAK,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,KAAK,CAAEJ,IAAI,CAAAI,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,IAAI,CAAEH,OAAO,CAAAG,KAAA,CAAAO,MAAA,IAAAP,KAAA,MAAAQ,SAAA,CAAAR,KAAA,IAAG,CAAC,CAAC,CAAAI,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG1B,CAAAG,KAAK,CAACf,GAAG,CAAE,CAChCC,MAAM,CAANA,MAAM,CACNC,IAAI,CAAJA,IAAI,CACJC,OAAO,CAAPA,OACF,CAAC,CAAC,QAJIC,QAAQ,CAAAM,QAAA,CAAAM,IAAA,CAAAN,QAAA,CAAAE,IAAA,SAKa,CAAAR,QAAQ,CAACa,IAAI,CAAC,CAAC,QAApCZ,YAAY,CAAAK,QAAA,CAAAM,IAAA,CAClBE,OAAO,CAACC,GAAG,CAACd,YAAY,CAAC,IACpBD,QAAQ,CAACgB,EAAE,EAAAV,QAAA,CAAAE,IAAA,gBACR,IAAI,CAAAS,KAAK,CAAChB,YAAY,CAACiB,OAAO,CAAC,gBAAAZ,QAAA,CAAAa,MAAA,UAGhClB,YAAY,UAAAK,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAEnBjB,QAAQ,CAACiB,QAAA,CAAAc,EAAA,CAAIF,OAAO,CAAC,CAAC,MAAAZ,QAAA,CAAAc,EAAA,0BAAAd,QAAA,CAAAe,IAAA,MAAA1B,OAAA,iBAGzB,mBAAA2B,EAAA,SAAA/B,IAAA,CAAAgC,KAAA,MAAApB,SAAA,QACD,EACF,CAAC,CAED,GAAM,CAAAqB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBnC,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAGD,MAAO,CAACD,KAAK,CAALA,KAAK,CAAEE,WAAW,CAAXA,WAAW,CAAEkC,UAAU,CAAVA,UAAU,CAAC,CACzC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}